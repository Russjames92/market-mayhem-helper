/* ============================================================
   ROOT + RESET
   ============================================================ */
:root{
  --bg:#0b0b0c;
  --panel:#111114;
  --panel2:#0e0e10;
  --border:#232323;
  --border2:#2a2a2a;
  --text:#f2f2f2;
  --muted:rgba(242,242,242,.72);
  --shadow:0 10px 30px rgba(0,0,0,.35);
  --controlH:48px; /* ðŸ”‘ single source of truth */
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}

*{ box-sizing:border-box; }
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
}

/* ============================================================
   BASE CONTROLS (BUTTONS + INPUTS + SELECTS)
   ============================================================ */
button,
input,
select,
textarea{
  width:100%;
  height:var(--controlH);
  padding:0 14px;
  background:var(--panel2);
  color:var(--text);
  border:1px solid var(--border2);
  border-radius:14px;
  font-size:15px;
  line-height:var(--controlH);
  outline:none;
}

button{
  cursor:pointer;
  font-weight:900;
}

button.primary{
  background:#1e1e24;
  border-color:#3a3a3a;
}

button.danger{
  background:#241214;
  border-color:#5a2a2e;
}

button:disabled{
  opacity:.55;
  cursor:not-allowed;
}

/* ðŸ”‘ iOS SAFARI FIX (THIS IS THE IMPORTANT PART) */
select{
  appearance:none;
  -webkit-appearance:none;
  -moz-appearance:none;
}

/* ============================================================
   LAYOUT
   ============================================================ */
main{
  padding:14px;
  display:grid;
  grid-template-columns:420px 1fr;
  gap:14px;
}
@media (max-width:1000px){
  main{ grid-template-columns:1fr; }
}

.rightCol{
  display:grid;
  gap:14px;
}

/* ============================================================
   CARDS
   ============================================================ */
.card{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:16px;
  padding:14px;
  box-shadow:var(--shadow);
}

.card h2{
  margin:0 0 8px;
  font-size:15px;
  font-weight:900;
}

.sub{
  margin:0 0 10px;
  font-size:12px;
  color:var(--muted);
}

/* ============================================================
   SECTION HEADERS (Collapse buttons)
   ============================================================ */
.sectionHead{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:8px;
}

.btnToggle{
  width:auto;
  height:36px;
  padding:0 14px;
  border-radius:999px;
  font-size:12px;
  font-weight:900;
  background:rgba(255,255,255,.04);
  border:1px solid rgba(255,255,255,.14);
}

/* ============================================================
   PLAYER TABS
   ============================================================ */
.playerTabs{
  display:flex;
  gap:10px;
  margin-bottom:12px;
  overflow-x:auto;
}

.playerTab{
  padding:8px 14px;
  border-radius:999px;
  font-weight:900;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.04);
  white-space:nowrap;
}

.playerTab.isActive{
  background:#1e1e24;
  border-color:#3a3a3a;
}

/* ============================================================
   PLAYER CARD ANIMATION
   ============================================================ */
.playerCardAnim{
  animation:playerIn .16s ease-out;
}

@keyframes playerIn{
  from{
    opacity:0;
    transform:translateY(6px) scale(.99);
    filter:blur(6px);
  }
  to{
    opacity:1;
    transform:none;
    filter:none;
  }
}

/* ============================================================
   PLAYER AVATAR
   ============================================================ */
.playerIdentity{
  display:flex;
  align-items:center;
  gap:12px;
}

.playerAvatar{
  width:48px;
  height:48px;
  border-radius:14px;
  background-size:cover;
  background-position:center;
  border:1px solid rgba(255,255,255,.18);
}

.avatarBtn{
  width:auto;
  height:36px;
  padding:0 14px;
  border-radius:999px;
}

/* ============================================================
   AVATAR PICKER
   ============================================================ */
.avatarPicker{
  margin-top:10px;
  padding:12px;
  border-radius:14px;
  background:rgba(255,255,255,.03);
  border:1px solid rgba(255,255,255,.12);
}

.avatarGrid{
  display:grid;
  grid-template-columns:repeat(8,1fr);
  gap:10px;
}
@media(max-width:700px){
  .avatarGrid{ grid-template-columns:repeat(4,1fr); }
}

.avatarOption{
  aspect-ratio:1/1;
  border-radius:14px;
  background-size:cover;
  background-position:center;
  border:1px solid rgba(255,255,255,.12);
  cursor:pointer;
}

.avatarOption.isTaken{
  opacity:.35;
  filter:grayscale(1);
  cursor:not-allowed;
}

.avatarOption.isSelected{
  outline:2px solid rgba(255,255,255,.6);
  outline-offset:2px;
}

/* ============================================================
   PIT BOARD
   ============================================================ */
#pitTable{
  width:100%;
  border-collapse:collapse;
}

#pitTable th,
#pitTable td{
  padding:10px;
  font-size:12px;
  border-bottom:1px solid #222;
  text-align:left;
}

#pitCards{
  display:none;
}

@media(max-width:700px){
  #pitTableWrap{ display:none; }
  #pitCards{
    display:grid;
    gap:10px;
  }
}

/* ============================================================
   PIT CONTROLS
   ============================================================ */
.pitControls{
  display:flex;
  flex-direction:column;
  gap:10px;
  margin:10px 0;
}

.pitBulkRow{
  display:flex;
  gap:8px;
}

.pitBulkRow button{
  flex:1;
}

#pitBulkAmt{
  width:80px;
  text-align:center;
}

/* ============================================================
   LEADERBOARD
   ============================================================ */
#leaderboard table{
  width:100%;
  border-collapse:collapse;
  table-layout:fixed;
}

#leaderboard th,
#leaderboard td{
  padding:12px;
  font-size:13px;
  border-bottom:1px solid #222;
  text-align:center;
}

@media(max-width:700px){
  #leaderboard table{
    min-width:560px;
  }
}

/* ============================================================
   LOG TICKER
   ============================================================ */
.logTicker{
  position:fixed;
  top:10px;
  left:50%;
  transform:translateX(-50%);
  z-index:9998;
  width:min(960px,calc(100% - 20px));
  opacity:0;
  pointer-events:none;
  transition:.18s ease;
}

.logTicker.show{
  opacity:1;
}

.logTickerInner{
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px 14px;
  border-radius:999px;
  background:rgba(12,12,14,.7);
  border:1px solid rgba(255,255,255,.14);
  backdrop-filter:blur(10px);
}

/* ============================================================
   MOBILE SAFETY NET (REAL DEVICE FIX)
   ============================================================ */
@media (max-width:700px){
  select,
  button,
  input{
    height:var(--controlH) !important;
    line-height:var(--controlH) !important;
    font-size:16px !important; /* iOS tap target */
  }
}

/* =========================
   PRINT â€” GAME LOG
   ========================= */
@media print {

  /* Reset page */
  body {
    background: #fff !important;
    color: #000 !important;
  }

  /* Hide non-essential UI */
  button,
  select,
  input,
  .collapseBtn,
  .sectionHeader button,
  .avatarBtn,
  .playerTabs,
  .pitControls,
  .leaderboard,
  .players,
  .pitBoard {
    display: none !important;
  }

  /* Show only the game log */
  #gameLog,
  #gameLog * {
    visibility: visible !important;
  }

  #gameLog {
    position: static !important;
    width: 100% !important;
    max-width: none !important;
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
  }

  /* Game log entries */
  .logEntry {
    border-bottom: 1px solid #ddd !important;
    padding: 8px 0 !important;
    color: #000 !important;
    font-size: 12px;
  }

  .logTime {
    color: #555 !important;
    font-size: 11px;
  }

  /* Remove effects */
  * {
    box-shadow: none !important;
    text-shadow: none !important;
    filter: none !important;
  }
}
